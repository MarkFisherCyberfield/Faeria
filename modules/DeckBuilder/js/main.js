(this["webpackJsonpdeckbuilder-react"]=this["webpackJsonpdeckbuilder-react"]||[]).push([[0],{54:function(e,a,t){},74:function(e,a,t){},81:function(e,a,t){"use strict";t.r(a);var s=t(0),c=t.n(s),i=t(24),n=t.n(i),r=(t(54),t(11)),d=t(23),l=t(48),o=t(19),j=t.n(o),h=t(49),g=t(85),u=t(2),p=function(e){return e.data?Object(u.jsxs)(h.a,{action:!0,variant:"primary",id:e.id,onClick:e.click,children:[Object(u.jsx)(g.a,{pill:!0,variant:"primary",children:e.data.faeria})," ",e.data.name," ",Object(u.jsxs)(g.a,{variant:"secondary",children:["x",e.count]})]}):Object(u.jsx)(h.a,{})},b=t(88),f=function(e){var a=e.cardlist.map((function(a){return Object(u.jsx)(p,{id:a[0],count:a.length,data:e.data.filter((function(e){return e.id==a[0]}))[0],click:e.click},a[0])}));return Object(u.jsx)(b.a,{children:a})},m={0:"assets/images/cards/cheeksplore.jpg",1:"assets/images/cards/mercheek.jpg",2:"assets/images/cards/dolphin_cheekrider.jpg",3:"assets/images/cards/clamcheek.jpg",4:"assets/images/cards/ninjacheek.jpg",5:"assets/images/cards/song_of_the_mercheek.jpg",6:"assets/images/cards/cheek_in_a_bottle.jpg",7:"assets/images/cards/cheekie_in_a_lamp.jpg",8:"assets/images/cards/cheeklord.jpg",9:"assets/images/cards/rain_of_cheek.jpg",10:"assets/images/cards/cheekdrop.jpg",11:"assets/images/cards/cheekmoon.jpg",12:"assets/images/cards/cheekpearl.jpg",13:"assets/images/cards/crabcheek.jpg",14:"assets/images/cards/cheekcano.jpg",15:"assets/images/cards/cheekdevil.jpg",16:"assets/images/cards/cheekflame.jpg",17:"assets/images/cards/cheekblast.jpg",18:"assets/images/cards/cheekflame_faerie.jpg",19:"assets/images/cards/baby_cheekdevil.jpg",20:"assets/images/cards/ghostcheek_tower.jpg",21:"assets/images/cards/ghostcheek.jpg",22:"assets/images/cards/ghostcheek_alchemist.jpg",23:"assets/images/cards/cheekruption.jpg",24:"assets/images/cards/suncheek.jpg",25:"assets/images/cards/cheekflower.jpg",26:"assets/images/cards/cavecheek_dweller.jpg",27:"assets/images/cards/mushroom_cheek.jpg",28:"assets/images/cards/cheekshrooms.jpg",29:"assets/images/cards/cheektree_giant.jpg",30:"assets/images/cards/cheekworld_tree.jpg",31:"assets/images/cards/cheek_shaman.jpg",32:"assets/images/cards/cheekfox.jpg",33:"assets/images/cards/cheekbloom_spirit.jpg",34:"assets/images/cards/cheekshield_spirit.jpg",35:"assets/images/cards/cheek_dancers.jpg"},k=(t(74),function(e){var a=e.data.playable?"selectable":"not-selectable",t=e.data.playable?e.click:null;return Object(u.jsx)("div",{style:{width:"15vw"},id:e.data.id,onClick:t,className:a,children:Object(u.jsx)("img",{style:{width:"15vw"},id:e.data.id,alt:e.data.id,src:m[e.data.id]})})}),v=t(43),O=t(47),x=t(86),y=t(89),w=t(87),_=function(e){var a=Object(s.useState)([]),t=Object(r.a)(a,2),c=t[0],i=t[1],n=Object(s.useState)(e.data),o=Object(r.a)(n,2),h=o[0],p=o[1];Object(s.useEffect)((function(){j.a.get("http://localhost/faeria/Faeria/utils/getCards.php").then((function(e){e.data.forEach((function(e){var a=b.find((function(a){return a.includes(parseInt(e.id))}));"1"===e.legendary?!a||a.length<1?e.playable=!0:e.playable=!1:!a||a.length<3?e.playable=!0:e.playable=!1})),i(e.data)}))}),[]),Object(s.useEffect)((function(){var e=Object(l.a)(c);e.forEach((function(e){var a=b.find((function(a){return a.includes(parseInt(e.id))}));"1"===e.legendary?!a||a.length<1?e.playable=!0:e.playable=!1:!a||a.length<3?e.playable=!0:e.playable=!1})),i(e)}),[h]);var b=h.cards.reduce((function(e,a,t,s){return a===s[t-1]?e[e.length-1].push(a):e.push([a]),e}),[]),m=function(e){var a=0,t=0;return e.forEach((function(e){t++,a+=parseInt(c.filter((function(a){return a.id==e}))[0].faeria)})),t?a/t:0},_=function(e){var a=Object(d.a)({},h);a.cards.push(parseInt(e.target.id)),a.cards.sort((function(e,a){return e-a})),a.cost=m(a.cards),p(a)},C=c.map((function(e,a){return Object(u.jsx)(k,{click:_,data:e},e.id)})),S=30===h.cards.length?Object(u.jsx)(v.a,{onClick:function(){var a=new FormData;a.append("user",document.getElementById("user").value),a.append("deck",JSON.stringify(h)),j.a.post("http://localhost/faeria/Faeria/utils/saveDeck.php",a).then((function(a){e.click()}))},variant:"primary",size:"lg",children:"Save"}):Object(u.jsx)(v.a,{disabled:!0,variant:"secondary",size:"lg",children:"Save"}),F=function(e){var a=Object(d.a)({},h);a.deck_name=e.target.value,p(a)},I=function(e){var a=Object(d.a)({},h);a.cover=e.target.id,p(a)},E=c.length>0?c.find((function(e){return e.id==h.cover}))?c.find((function(e){return e.id==h.cover})).name:"No cover":null,N=E?b.map((function(e){return Object(u.jsx)(O.a.Item,{id:e[0],onClick:I,children:c.find((function(a){return a.id==e[0]})).name},e[0])})):null;return Object(u.jsxs)("div",{style:{display:"flex"},children:[Object(u.jsx)("div",{style:{display:"flex",flexWrap:"wrap",height:"80vh",width:"70vw",justifyContent:"space-evenly",overflow:"scroll"},children:C}),Object(u.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"30vw",height:"100vh",justifyContent:"flex-start",overflow:"scroll"},children:[Object(u.jsxs)(x.a,{children:[Object(u.jsxs)(x.a.Prepend,{children:[Object(u.jsx)(x.a.Text,{children:Object(u.jsx)(g.a,{pill:!0,variant:"primary",children:parseFloat(h.cost).toFixed(1)})}),Object(u.jsxs)(x.a.Text,{children:[h.cards.length,"/30"]}),Object(u.jsx)(x.a.Text,{id:"basic-addon1",children:"Name:"})]}),Object(u.jsx)(y.a,{onChange:F,placeholder:h.deck_name,"aria-label":h.deck_name,"aria-describedby":"basic-addon1"})]}),Object(u.jsxs)(x.a,{children:[Object(u.jsx)(x.a.Prepend,{children:Object(u.jsx)(x.a.Text,{id:"basic-addon2",children:"Cover:"})}),Object(u.jsx)(y.a,{onChange:F,placeholder:E,"aria-label":E,"aria-describedby":"basic-addon2"}),Object(u.jsx)(w.a,{as:x.a.Append,variant:"outline-secondary",title:"Select",id:"input-group-dropdown-2",children:N})]}),Object(u.jsx)(f,{cardlist:b,data:c,click:function(e){var a=Object(d.a)({},h);a.cards.splice(a.cards.findIndex((function(a){return a==e.target.id})),1),a.cost=m(a.cards),p(a)}}),S,Object(u.jsx)(v.a,{onClick:function(){e.click()},variant:"dark",size:"lg",children:"Cancel"})]})]})},C=function(e){return Object(u.jsxs)("div",{data:JSON.stringify(e.data),style:{width:"17vw",cursor:"pointer"},id:e.data.id,onClick:e.click,children:[Object(u.jsx)("h1",{style:{textAlign:"center"},children:e.data.deck_name}),Object(u.jsx)("img",{style:{width:"17vw"},id:e.data.id,alt:e.data.id,data:JSON.stringify(e.data),src:m[e.data.cover]})]})},S=function(e){var a=Object(s.useState)([]),t=Object(r.a)(a,2),c=t[0],i=t[1];Object(s.useEffect)((function(){var e=new FormData;e.append("user",document.getElementById("user").value),j.a.post("http://localhost/faeria/Faeria/utils/getDecks.php",e).then((function(e){i(e.data)}))}),[]);var n=c.map((function(a){return Object(u.jsx)(C,{data:a,click:e.click},a.id)}));return n.push(Object(u.jsx)(C,{data:{id:0,deck_name:"Add new",cover:0,cards:[],cost:0},click:e.click},"0")),n},F=function(){var e=Object(s.useState)(!0),a=Object(r.a)(e,2),t=a[0],c=a[1],i=Object(s.useState)({}),n=Object(r.a)(i,2),d=n[0],l=n[1];return t?Object(u.jsx)("div",{style:{display:"flex",flexWrap:"wrap",height:"100vh",width:"100vw",justifyContent:"space-evenly",overflow:"scroll"},children:Object(u.jsx)(S,{click:function(e){l(JSON.parse(e.target.attributes.data.value)),c(!1)}})}):Object(u.jsx)(_,{data:d,click:function(){l({}),c(!0)}})},I=function(){return Object(u.jsx)(F,{})},E=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,90)).then((function(a){var t=a.getCLS,s=a.getFID,c=a.getFCP,i=a.getLCP,n=a.getTTFB;t(e),s(e),c(e),i(e),n(e)}))};t(80);n.a.render(Object(u.jsx)(c.a.StrictMode,{children:Object(u.jsx)(I,{})}),document.getElementById("deck-builder")),E()}},[[81,1,2]]]);
//# sourceMappingURL=main.cc5f56b3.chunk.js.map